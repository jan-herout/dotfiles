#!/usr/bin/env bash
# doc: Updatuje main a develop větve v BIDEV repozitářích BIDEV-MAIN_edw a BIDEV-MAIN_bimeta

[ "$(type -t include)" != 'function' ]&&{ include(){ { [ -z "$_IR" ]&&_IR="$PWD"&&cd "$(dirname "${BASH_SOURCE[0]}")"&&include "$1"&&cd "$_IR"&&unset _IR;}||{ local d="$PWD"&&cd "$(dirname "$PWD/$1")"&&. "$(basename "$1")"&&cd "$d";}||{ echo "Include failed $PWD->$1"&&exit 1;};};}
include "lib/user_io.sh" 
include "lib/die.sh"
include "lib/git.sh"


gitUpdateRepo "$HOME/o2/BIDEV-MAIN_edw" main    || fDie "Failed to update BIDEV-MAIN_edw repository."
gitUpdateRepo "$HOME/o2/BIDEV-MAIN_edw" develop || fDie "Failed to update BIDEV-MAIN_edw repository."
gitUpdateRepo "$HOME/o2/BIDEV-MAIN_bimeta" main || fDie "Failed to update BIDEV-MAIN_vodwh repository."
#!/bin/bash

BOOKMARKS_FILE=~/bookmarks
SELECTED_DIR=$(cat "$BOOKMARKS_FILE" | fzf)
BROWSER=/usr/bin/google-chrome-stable

# Check if a directory was selected
if [[ ! -n "$SELECTED_DIR" ]]; then
  echo "No directory selected."
else
    # check if it starts with a slash
    if [[ $SELECTED_DIR == /* ]]; then        
        SELECTED_DIR="${SELECTED_DIR%%#*}" # get everything before the pound (strip comments)
        SELECTED_DIR=$(echo "$SELECTED_DIR" | sed 's/[[:space:]]*$//') # strip spaces at the end
        echo "go to $SELECTED_DIR"
        cd "$SELECTED_DIR"
    fi

    # check if it starts wityh a slash
    if [[ $SELECTED_DIR == http* ]]; then
        echo "run chrome $SELECTED_DIR"
        $BROWSER "$SELECTED_DIR"

    fi
fi
